{% extends 'base.html' %}
{% block title %} 
    Make me a recipe
{% endblock %}
{% block content %}
    <div style="visibility: hidden;" id="api-key">{{ API_KEY }}</div>
    <div>
        <h1 style="text-align: center;">Make me a Recipe</h1>
        {% if loggedIn %}
            <a href="/logout">Logout | </a>
        {% else %}
        <a href="/login">Login | </a>
        {% endif %}
        <a href="/signup">Signup</a>
         
    </div>
    <div style="padding: 10px;"></div>
    <div>
        <form id="search-recipe-form" style="text-align: center;">
            <input type="text" name = "search-box" id="search-box" style="width: 400px;height: 30px;">
            <input type="submit" style="width: 80px;height: 35px;">
        </form>
    </div>
    <div class="container">
        <div class="row" id="recipe_list">
        </div>
    </div>
    <div style="padding: 10px;"></div>
    <div class="container">
        <div class="row">
            <h3 class="text-center">What's Trending on Internet </h3>
            {% for recipe in recipes %}
            <div class="col-4 text-center">
                
                    <a href="recipe/{{ recipe.id }}/{{ recipe.title }}" target="_self" style="text-decoration: none;">
                    <div id="grid-item" style="border: 1px grey solid; padding: 20px; border-radius: 10px; margin: 20px;"> 
                        <h4 style="padding: 5px;">{{ recipe['title'] }}</h4> 
                        <div>
                            <img src="{{ recipe['image'] }}" style="width: 200px; height: 150px;">
                        </div>
                        <p>
                            <span style="padding-right:  5px;color: red;"> Prep time:</span> <span>{{ recipe['readyInMinutes']}}</span> 
                            <span style="padding-left:  5px; color: red;"> Serves: </span> <span> {{ recipe['servings'] }}</span>
                        </p>
                    </div>
                </a> 
                
            </div>
            {% endfor %}
        </div>
    </div>
    
    <div class="container">
        <div class="row">
            {% if loggedIn %}
            <h3 class="text-center">Saved Recipes</h3>

            {% for recipe in saved_recipes %}
            <div class="col-4 text-center">
                <a href="recipe/{{ recipe.id }}/{{ recipe.title }}" target="_self" style="text-decoration: none;">
                    <div id="grid-item" style="border: 1px grey solid; padding: 20px; border-radius: 10px; margin: 20px;"> 
                        <h4 style="padding: 5px;">{{ recipe['title'] }}</h4> 
                        <div>
                            <img src="{{ recipe['image'] }}" style="width: 200px; height: 150px;">
                        </div>
                        <p>
                            <span style="padding-right:  5px;color: red;"> Prep time:</span> <span>{{ recipe['readyInMinutes']}}</span> 
                            <span style="padding-left:  5px; color: red;"> Serves: </span> <span> {{ recipe['servings'] }}</span>
                        </p>
                        <p>
                        Cuisine: 
                        {% for cuisine in recipe['cuisines'] %}
                            {{ cuisine }}
                        {% endfor %}
                        </p>
                    </div> 
                </a> 

            </div>
            {% endfor %}
            {% endif %}
        </div>
    </div>
{% endblock %}
    